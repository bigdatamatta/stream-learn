

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Streams &mdash; stream-learn 0.8.8 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/js/copybutton.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/stream-learn.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/basic.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Stream Evaluators" href="evaluators.html" />
    <link rel="prev" title="Quick start guide" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #AF2624" >
          

          
            <a href="index.html" class="icon icon-home"> stream-learn
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.8.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start guide</a></li>
</ul>
<p class="caption"><span class="caption-text">User guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Streams</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#stationary-stream">Stationary stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="#streams-containing-concept-drifts">Streams containing concept drifts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sudden-abrupt-drift">Sudden (Abrupt) drift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gradual-drift">Gradual drift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#incremental-stepwise-drift">Incremental (Stepwise) drift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recurrent-drift">Recurrent drift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-recurring-drift">Non-recurring drift</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#class-imbalance">Class imbalance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stationary-imbalanced-stream">Stationary imbalanced stream</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamically-imbalanced-stream">Dynamically imbalanced stream</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mixing-drift-properties">Mixing drift properties</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="evaluators.html">Stream Evaluators</a></li>
<li class="toctree-l1"><a class="reference internal" href="ensembles.html">Classifier Ensembles</a></li>
<li class="toctree-l1"><a class="reference internal" href="classifiers.html">Classifiers</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">General examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Other informations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">stream-learn</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Data Streams</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/streams.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-streams">
<h1>Data Streams<a class="headerlink" href="#data-streams" title="Permalink to this headline">¶</a></h1>
<p>A key element of the <code class="docutils literal notranslate"><span class="pre">stream-learn</span></code> package is a generator that allows to prepare a replicable (according to the given <code class="docutils literal notranslate"><span class="pre">random_state</span></code> value) classification dataset with class distribution changing over the course of stream, with base concepts build on a default class distributions for the <code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code> package from the <code class="docutils literal notranslate"><span class="pre">make_classification()</span></code> function. These types of distributions try to reproduce the rules for generating the <code class="docutils literal notranslate"><span class="pre">Madelon</span></code> set. The <code class="docutils literal notranslate"><span class="pre">StreamGenerator</span></code> is capable of preparing any variation of the data stream known in the general taxonomy of data streams.</p>
<div class="section" id="stationary-stream">
<h2>Stationary stream<a class="headerlink" href="#stationary-stream" title="Permalink to this headline">¶</a></h2>
<p>The simplest variation of data streams are <em>stationary streams</em>. They contain one basic concept, static for the whole course of the processing. Chunks differ from each other in terms of the patterns inside, but the decision boundaries of the models built on them should not be statistically different. This type of stream may be generated with a clean generator call, without any additional parameters.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/stationary.png" src="_images/stationary.png" />
<p>The above illustration contains the series of scatter plots for a two-dimensional stationary stream with the binary problem. The <code class="docutils literal notranslate"><span class="pre">StreamGenerator</span></code> class in the initializer accepts almost all standard attributes of the <code class="docutils literal notranslate"><span class="pre">make_classification()</span></code> function, so to get exactly the distribution as above, the used call was:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stream</span> <span class="o">=</span> <span class="n">StreamGenerator</span><span class="p">(</span>
  <span class="n">n_classes</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">n_features</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">n_informative</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">n_redundant</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">n_repeated</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">n_features</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">random_state</span><span class="o">=</span><span class="mi">105</span><span class="p">,</span>
  <span class="n">n_chunks</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
  <span class="n">chunk_size</span><span class="o">=</span><span class="mi">500</span>
<span class="p">)</span>
</pre></div>
</div>
<p>What’s very important, contrary to the typical call to <code class="docutils literal notranslate"><span class="pre">make_classification()</span></code>, we don’t specify the
<code class="docutils literal notranslate"><span class="pre">n_samples</span></code> parameter here, which determines the number of patterns in the set, but instead we provide
two new attributes of data stream:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n_chunks</span></code> — to determine the number of chunks in a data stream.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> — to determine the number of patterns in each data chunk.</p></li>
</ul>
<p>Additionally, data streams may contain noise which, while not considered as concept drift, provides additional challenge during the data stream analysis and data stream classifiers should be robust to it. The <code class="docutils literal notranslate"><span class="pre">StreamGenerator</span></code> class implements noise by inverting the class labels of a given percentage of incoming instances in the data stream. This percentage can be defined by a <code class="docutils literal notranslate"><span class="pre">y_flip</span></code> parameter, like in standard <code class="docutils literal notranslate"><span class="pre">make_classification()</span></code> call. If a single float is given as the parameter value, the percentage of noise refers to combined instances from all classes, while if we specify a tuple of floats, the noise occurs within each class separately using the given percentages.</p>
</div>
<div class="section" id="streams-containing-concept-drifts">
<h2>Streams containing concept drifts<a class="headerlink" href="#streams-containing-concept-drifts" title="Permalink to this headline">¶</a></h2>
<p>The most commonly studied nature of data streams is their variability in time. Responsible for this is the phenomenon of the <em>concept drift</em>, where class distributions change over time with different dynamics, which necessitates the rebuilding of already
fitted classification models. The <code class="docutils literal notranslate"><span class="pre">stream-learn</span></code> package tries to meet the need to synthesize all basic variations of this phenomenon (i.e. <em>sudden</em> (abrupt) and <em>gradual</em> drifts).</p>
<div class="section" id="sudden-abrupt-drift">
<h3>Sudden (Abrupt) drift<a class="headerlink" href="#sudden-abrupt-drift" title="Permalink to this headline">¶</a></h3>
<p>This type of drift occurs when the concept from which the data stream is generated is suddenly replaced by another one. Concept probabilities used by the <code class="docutils literal notranslate"><span class="pre">StreamGenerator</span></code> class are created based on sigmoid function, which is generated using <code class="docutils literal notranslate"><span class="pre">concept_sigmoid_spacing</span></code> parameter, which determines the function shape and how sudden the change of concept is. The higher the value, the more sudden the drift becames. Here, this parameter takes the default value of 999, which allows us for a generation of sigmoid function simulating an abrupt change in the data stream.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span><span class="n">n_drifts</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/sudden.png" src="_images/sudden.png" />
</div>
<div class="section" id="gradual-drift">
<h3>Gradual drift<a class="headerlink" href="#gradual-drift" title="Permalink to this headline">¶</a></h3>
<p>Unlike sudden drifts, gradual ones are associated with a slower change rate, which can be noticed during a longer observation of the data stream. This kind of drift refers to the transition phase
where the probability of getting instances from the first concept decreases while the probability of sampling from the next concept increases. The <code class="docutils literal notranslate"><span class="pre">StreamGenerator</span></code> class simulates gradual drift by
comparing the concept probabilities with the generated random noise and, depending on the result, selecting which concept is active at a given time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">n_drifts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">concept_sigmoid_spacing</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/gradual.png" src="_images/gradual.png" />
</div>
<div class="section" id="incremental-stepwise-drift">
<h3>Incremental (Stepwise) drift<a class="headerlink" href="#incremental-stepwise-drift" title="Permalink to this headline">¶</a></h3>
<p>The incremental drift occurs when we are dealing with a series of barely noticeable changes in the concept used to generate the data stream, in opposite of gradual drift, where we are mixing samples from different concepts without changing them. Due to this, the drift may be identified only after some time. The severity of changes, and hence the speed of transition of one concept into another, is, like in previous example, described by the <cite>concept_sigmoid_spacing</cite> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">n_drifts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">concept_sigmoid_spacing</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">incremental</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/incremental.png" src="_images/incremental.png" />
</div>
<div class="section" id="recurrent-drift">
<h3>Recurrent drift<a class="headerlink" href="#recurrent-drift" title="Permalink to this headline">¶</a></h3>
<p>The cyclic repetition of class distributions is a completely different property of concept drifts. If after another drift, the concept earlier present in the stream returns, we are dealing with a <em>recurrent drift</em>. We can get this kind of data stream by setting the <code class="docutils literal notranslate"><span class="pre">recurring</span></code> flag in the generator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">n_drifts</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">recurring</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/recurring.png" src="_images/recurring.png" />
</div>
<div class="section" id="non-recurring-drift">
<h3>Non-recurring drift<a class="headerlink" href="#non-recurring-drift" title="Permalink to this headline">¶</a></h3>
<p>The default mode of consecutive concept occurences is a non-recurring drift, where in each concept drift we are generating a completely new, previously unseen  class distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">n_drifts</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/nonrecurring.png" src="_images/nonrecurring.png" />
</div>
</div>
<div class="section" id="class-imbalance">
<h2>Class imbalance<a class="headerlink" href="#class-imbalance" title="Permalink to this headline">¶</a></h2>
<p>Another area of data stream properties, different from the concept drift phenomenon, is the prior probability of problem classes. By default, a balanced stream is generated, i.e. one in which patterns of all classes are present in a similar number.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/stationary.png" src="_images/stationary.png" />
<div class="section" id="stationary-imbalanced-stream">
<h3>Stationary imbalanced stream<a class="headerlink" href="#stationary-imbalanced-stream" title="Permalink to this headline">¶</a></h3>
<p>The basic type of problem in which we are dealing with disturbed class distribution is a <em>dataset imbalanced stationary</em>, where the classes maintain a predetermined proportion in each chunk of data stream. To acquire this type of a stream, one should pass the <code class="docutils literal notranslate"><span class="pre">list</span></code> to the <code class="docutils literal notranslate"><span class="pre">weights</span></code> parameter of the generator (i) consisting of as many elements as the classes in the problem and (ii) adding to one.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>
</pre></div>
</div>
<img alt="_images/static-imbalanced.png" src="_images/static-imbalanced.png" />
</div>
<div class="section" id="dynamically-imbalanced-stream">
<h3>Dynamically imbalanced stream<a class="headerlink" href="#dynamically-imbalanced-stream" title="Permalink to this headline">¶</a></h3>
<p>A less common type of <em>imbalanced data</em>, impossible to obtain in static datasets, is <em>data imbalanced dynamically</em>. In this case, the class distribution is not constant throughout the course of a stream, but changes over time, similar to changing the concept presence in gradual streams. To get this type of data stream, we pass a <code class="docutils literal notranslate"><span class="pre">tuple</span></code> of three numeric values to the <code class="docutils literal notranslate"><span class="pre">weights</span></code> parameter of the generator:</p>
<ul class="simple">
<li><p>the number of cycles of distribution changes,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concept_sigmoid_spacing</span></code> parameter, deciding about the dynamics of changes on the same principle as in gradual and incremental drifts,</p></li>
<li><p>range within which oscillation is to take place.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
</pre></div>
</div>
<img alt="_images/dynamic-imbalanced.png" src="_images/dynamic-imbalanced.png" />
</div>
</div>
<div class="section" id="mixing-drift-properties">
<h2>Mixing drift properties<a class="headerlink" href="#mixing-drift-properties" title="Permalink to this headline">¶</a></h2>
<p>Of course, when generating data streams, we don’t have to limit ourselves to just one modification of their properties. We can easily prepare a stream with many drifts, any dynamics of changes, a selected type of drift and a diverse, dynamic imbalanced ratio. The last example in this chapter of User Guide is such proposition, namely, DISCO (Dynamically Imbalanced Stream with Concept Oscillation).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">weights</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">),</span> <span class="n">n_drifts</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">concept_sigmoid_spacing</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">recurring</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">incremental</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/disco.png" src="_images/disco.png" />
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="evaluators.html" class="btn btn-neutral float-right" title="Stream Evaluators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quickstart.html" class="btn btn-neutral float-left" title="Quick start guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, P. Ksieniewicz, P. Zyblewski

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>