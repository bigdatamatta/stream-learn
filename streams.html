

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Stream generator &mdash; stream-learn 0.8.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Evaluators" href="evaluators.html" />
    <link rel="prev" title="Instalation" href="install.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> stream-learn
          

          
          </a>

          
            
            
              <div class="version">
                0.8.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Instalation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Stream generator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#stationary-stream">Stationary stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="#streams-containing-concept-drifts">Streams containing concept drifts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sudden-abrupt-drift">Sudden (Abrupt) drift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gradual-drift">Gradual drift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#incremental-stepwise-drift">Incremental (Stepwise) drift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recurrent-gradual-drift">Recurrent gradual drift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-reocurring-gradual-drift">Non-reocurring gradual drift</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#class-imbalance">Class imbalance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stationary-imbalanced-stream">Stationary imbalanced stream</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamically-imbalanced-stream">Dynamically imbalanced stream</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dynamically-imbalanced-stream-with-concept-oscillation-disco">Dynamically Imbalanced Stream with Concept Oscillation (DISCO)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="evaluators.html">Evaluators</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">stream-learn API</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial - Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">General examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">stream-learn</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Stream generator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/streams.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="stream-generator">
<h1>Stream generator<a class="headerlink" href="#stream-generator" title="Permalink to this headline">¶</a></h1>
<p>A key element of the <cite>stream-learn</cite> package is a data stream generator that allows to prepare a
repetitive, according to the given <cite>random_state</cite> value, classification dataset based on a default
class distributions for the <cite>scikit-learn</cite> package from the <cite>make_classification()</cite> function. These
types of distributions try to reproduce the rules for generating the <cite>Madelon</cite> set. The <cite>StreamGenerator</cite>
is capable of preparing any variation of the data stream known in the general  taxonomy of data streams.</p>
<div class="section" id="stationary-stream">
<h2>Stationary stream<a class="headerlink" href="#stationary-stream" title="Permalink to this headline">¶</a></h2>
<p>The simplest variation of data streams are <em>stationary streams</em>. They contain one basic concept, common
for the whole course of the processing. Chunks differ from each other in terms of the patterns inside,
but the decision boundaries of the models built on them themselves should not be different. This type of
stream may be generated with a clean generator call, without any additional parameters.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/0_stationary.gif" src="_images/0_stationary.gif" />
<p>The above animation contains the scatter plot of a two-dimensional stationary stream with the problem of
three classes. The <cite>StreamGenerator</cite> class in the initializer accepts almost all standard attributes of
the <cite>make_classification()</cite> function, so to get exactly the distribution as above, the exact used call was:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stream</span> <span class="o">=</span> <span class="n">StreamGenerator</span><span class="p">(</span>
  <span class="n">n_classes</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">n_features</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">n_informative</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">n_redundant</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">n_repeated</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">n_features</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">n_clusters_per_class</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">random_state</span><span class="o">=</span><span class="mi">105</span><span class="p">,</span>
  <span class="n">n_chunks</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
  <span class="n">chunk_size</span><span class="o">=</span><span class="mi">500</span>
<span class="p">)</span>
</pre></div>
</div>
<p>What’s very important, contrary to the typical call to <cite>make_classification()</cite>, we don’t specify the
<cite>n_samples</cite> parameter here, which determines the number of patterns in the set, but instead we provide
two new attributes of data stream:</p>
<ul class="simple">
<li><p><cite>n_chunks</cite> — to determine the number of chunks in a data stream,</p></li>
<li><p><cite>chunk_size</cite> — to dermine number of patterns in each chunk of data stream.</p></li>
</ul>
<p><strong>Not yet implemented</strong></p>
<p>Additionally, data streams may contain noise which, while not considered as concept drift,
provides additional challenge during the data stream analysis and data stream classifiers
should be robust to it. The <cite>StreamGenerator`class implements noise by inverting the class labels
of a given percentage of incoming instances in the data stream. This percentage can be defined by
a `y_flip</cite> parameter.</p>
<img alt="_images/0_stationary.png" src="_images/0_stationary.png" />
</div>
<div class="section" id="streams-containing-concept-drifts">
<h2>Streams containing concept drifts<a class="headerlink" href="#streams-containing-concept-drifts" title="Permalink to this headline">¶</a></h2>
<p>The most commonly studied nature of data streams is their variability in time.
Responsible for this is the phenomenon of the <em>concept drift</em>, where class distributions
change over time with different dynamics, which necessitates the rebuilding of already
fitted classification models. The <cite>stream-learn</cite> package tries to meet the need to synthesize
all basic variations of this phenomenon (i.e. <em>sudden</em> (abrupt) and <em>gradual</em> drifts).</p>
<div class="section" id="sudden-abrupt-drift">
<h3>Sudden (Abrupt) drift<a class="headerlink" href="#sudden-abrupt-drift" title="Permalink to this headline">¶</a></h3>
<p>This type of drift occurs when the concept from which the data stream is generated is suddenly
replaced by another one. Concept probabilities used by the <cite>StreamGenerator`class are created based
on sigmoid function, which is generated using `concept_sigmoid_spacing</cite> parameter, which determines
the function shape and how sudden the change of concept is. The higher the value, the more sudden the
drift. Here, this parameter takes the default value of 999, which allows us for a generation of sigmoid
function simulating an abrupt change in the data stream.</p>
<p><code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">StreamGenerator(n_classes=3,</span> <span class="pre">n_drifts=1)</span>
<span class="pre">`</span></code></p>
<img alt="_images/1_sudden.png" src="_images/1_sudden.png" />
<img alt="_images/1_sudden.gif" src="_images/1_sudden.gif" />
</div>
<div class="section" id="gradual-drift">
<h3>Gradual drift<a class="headerlink" href="#gradual-drift" title="Permalink to this headline">¶</a></h3>
<p>Unlike sudden drifts, gradual ones are associated with a slower change rate, which can be noticed
during a longer observation of the data stream. This kind of drift refers to the transition phase
where the probability of getting instances from the first concept decreases while the probability
of sampling from the next concept increases. The <a href="#id1"><span class="problematic" id="id2">`</span></a>StreamGenerator`class simulates gradual drift by
comparing the concept probabilities with the generated random noise and, depending on the result,
selecting which concept is active at a given time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">n_classes</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n_drifts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">concept_sigmoid_spacing</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/2_gradual.png" src="_images/2_gradual.png" />
<img alt="_images/2_incremental.gif" src="_images/2_incremental.gif" />
</div>
<div class="section" id="incremental-stepwise-drift">
<h3>Incremental (Stepwise) drift<a class="headerlink" href="#incremental-stepwise-drift" title="Permalink to this headline">¶</a></h3>
<p>The incremental drift occurs when we are dealing with a series of barely noticeable changes in
the concept used to generate the data stream. Due to this, the drift may be identified only after
some time. The severity of changes, and hence the speed of transition of one concept into another,
is described by the <cite>concept_sigmoid_spacing</cite> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">n_classes</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n_drifts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">concept_sigmoid_spacing</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">incremental</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/3_incremental.png" src="_images/3_incremental.png" />
<img alt="_images/3_gradual.gif" src="_images/3_gradual.gif" />
</div>
<div class="section" id="recurrent-gradual-drift">
<h3>Recurrent gradual drift<a class="headerlink" href="#recurrent-gradual-drift" title="Permalink to this headline">¶</a></h3>
<p>Situations when previous concepts reappear after some time are separately treated
and analyzed as recurrent drifts. …</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">n_classes</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n_drifts</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">concept_sigmoid_spacing</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">reocurring</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/4_reocurring.png" src="_images/4_reocurring.png" />
<img alt="_images/4_reocurring.gif" src="_images/4_reocurring.gif" />
</div>
<div class="section" id="non-reocurring-gradual-drift">
<h3>Non-reocurring gradual drift<a class="headerlink" href="#non-reocurring-gradual-drift" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">n_classes</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n_drifts</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">concept_sigmoid_spacing</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
<img alt="_images/5_nonreocurring.png" src="_images/5_nonreocurring.png" />
<img alt="_images/5_nonreocurring.gif" src="_images/5_nonreocurring.gif" />
</div>
</div>
<div class="section" id="class-imbalance">
<h2>Class imbalance<a class="headerlink" href="#class-imbalance" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/6_balanced.png" src="_images/6_balanced.png" />
<img alt="_images/6_balanced.gif" src="_images/6_balanced.gif" />
<div class="section" id="stationary-imbalanced-stream">
<h3>Stationary imbalanced stream<a class="headerlink" href="#stationary-imbalanced-stream" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">])</span>
</pre></div>
</div>
<img alt="_images/7_static_imbalanced.png" src="_images/7_static_imbalanced.png" />
<img alt="_images/7_static_imbalanced.gif" src="_images/7_static_imbalanced.gif" />
</div>
<div class="section" id="dynamically-imbalanced-stream">
<h3>Dynamically imbalanced stream<a class="headerlink" href="#dynamically-imbalanced-stream" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
</pre></div>
</div>
<img alt="_images/8_dynamic_imbalanced.png" src="_images/8_dynamic_imbalanced.png" />
<img alt="_images/8_dynamic_imbalanced.gif" src="_images/8_dynamic_imbalanced.gif" />
</div>
</div>
<div class="section" id="dynamically-imbalanced-stream-with-concept-oscillation-disco">
<h2>Dynamically Imbalanced Stream with Concept Oscillation (DISCO)<a class="headerlink" href="#dynamically-imbalanced-stream-with-concept-oscillation-disco" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StreamGenerator</span><span class="p">(</span>
    <span class="n">weights</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">),</span> <span class="n">n_drifts</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">concept_sigmoid_spacing</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">reocurring</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">incremental</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
</pre></div>
</div>
<img alt="_images/9_first.png" src="_images/9_first.png" />
<img alt="_images/9_disco.gif" src="_images/9_disco.gif" />
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="evaluators.html" class="btn btn-neutral float-right" title="Evaluators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral float-left" title="Instalation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Paweł Ksieniewicz

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>